<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>chp-intro-to-R.knit</title>

<script src="site_libs/header-attrs-2.19/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="computer-setup.html">Computer Setup</a>
</li>
<li>
  <a href="NEON-data-intro.html">NEON Data</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Chapters
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="00-module-contents.html">Chapter overview</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Core lessons</li>
    <li>
      <a href="chp-computer-navigation.html">1. Computer navigation</a>
    </li>
    <li>
      <a href="chp-intro-to-R.html">2. Intro to R</a>
    </li>
    <li>
      <a href="chp-spreadsheets.html">3. Spreadsheets</a>
    </li>
    <li>
      <a href="chp-data-structures.html">4. Data structures</a>
    </li>
    <li>
      <a href="chp-functions.html">5. Functions</a>
    </li>
    <li>
      <a href="chp-ggplot2-part1.html">6. Intro to ggplot2</a>
    </li>
    <li>
      <a href="chp-program-flow.html">7. Program flow</a>
    </li>
    <li>
      <a href="chp-ggplot2-part2.html">8. More ggplot2</a>
    </li>
    <li>
      <a href="chp-tidyverse-basics.html">9. Tidy data</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Supplemental lessons</li>
    <li>
      <a href="chp-rmarkdown.html">A. Rmarkdown</a>
    </li>
    <li>
      <a href="chp-geospatial-raster.html">B. Raster data</a>
    </li>
    <li>
      <a href="chp-openrefine.html">C. OpenRefine</a>
    </li>
  </ul>
</li>
<li>
  <a href="exercises-guide.html">Exercises</a>
</li>
<li>
  <a href="download-student-RStudio-project.html">RStudio Workbook</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<div id="chapter-2.-intro-to-r-and-rstudio"
class="section level1 tabset">
<h1 class="tabset">Chapter 2. Intro to R and RStudio</h1>
<p><strong>THIS LESSON IS NOT YET READY FOR LEARNERS.</strong></p>
<div id="overview" class="section level2">
<h2>Overview</h2>
<!--### Motivator   FIX ME -->
<p>Science is a multi-step process: once you’ve designed an experiment
and collected data, the real fun begins! This lesson will teach you how
to start this process using R and RStudio. We will begin with raw data,
perform exploratory analyses, and learn how to plot results graphically.
This example starts with a dataset from <a
href="https://www.gapminder.org">gapminder.org</a> containing population
information for many countries through time. Can you read the data into
R? Can you plot the population for Senegal? Can you calculate the
average income for countries on the continent of Asia? By the end of
these lessons you will be able to do things like plot the populations
for all of these countries in under a minute!</p>
<ul>
<li>Why R?
<ul>
<li>R has a wide user community and will always be free (open source -
what does this mean)</li>
<li>user contributed packages: -NEONUtilities</li>
<li>R and RStudio make it easy for anyone to reproduce your scientific
analyses because your analyses are saved as code scripts rather than
clicking through a graphical user interface</li>
<li>It is (relatively) easy to get help with (almost) anything</li>
</ul></li>
<li>R can:
<ul>
<li>do computations</li>
<li>manipulate data</li>
<li>access files on your computer or the internet</li>
<li>make graphs</li>
<li>create documents</li>
<li>create apps</li>
<li>almost anything… though it is not always the best tool for every
job.</li>
</ul></li>
</ul>
<div id="what-we-will-learn" class="section level3">
<h3>What we will learn</h3>
<p>In this lesson learners will:</p>
<ul>
<li>discover why so many scientists use R</li>
<li>describe the contents of the windows in an RStudio session</li>
<li>install and load packages in R</li>
<li>write and save a code script in a project folder</li>
<li>read and view tabular data from a file</li>
<li>use the console for mathematical calculations</li>
<li>state the rules for assigning variables</li>
<li>work with vectors</li>
<li>learn how to get help and troubleshoot error messages</li>
</ul>
<div id="key-terms-commands" class="section level4">
<h4>Key Terms &amp; Commands</h4>
</div>
</div>
<div id="prerequisites" class="section level3">
<h3>Prerequisites</h3>
<p>Check that you have the latest version of R and RStudio installed on
your machine. This is important, as some packages may not install
correctly (or at all) if R is not up to date. For instructions on
installing (or updating) R and RStudio, please see <a
href="computer-setup.html">Computer Setup</a>.</p>
<p>Once R and RStudio are installed, you will also need to set up the
Student Workbook that accompanies this text as an RStudio project.
Instructions are in the first exercise from <a
href="chp-computer-navigation.html">Navigating your computer</a>.</p>
</div>
</div>
<div id="lesson" class="section level2">
<h2>Lesson</h2>
<div id="welcome-back-to-rstudio" class="section level3">
<h3>Welcome (back) to RStudio!</h3>
<ul>
<li>R is a programming language</li>
<li>RStudio is an IDE</li>
<li>Already learned about Console and Files windows</li>
<li>Lot’s of other windows that show additional functionality (such as
version control (see addt lesson, application building and creating
documents)</li>
<li>In this lesson we will introduce the code, environment, packages and
help windows.</li>
</ul>
<p>We’re going to learn some of the fundamentals of the R language as
well as some best practices for organizing code for scientific projects
that will make your life easier. We’ll be using RStudio: a free,
open-source R Integrated Development Environment (IDE). It provides a
built-in editor, works on all platforms (including on servers) and
provides many advantages such as integration with version control and
project management.</p>
<p>Some notes on semantics:</p>
<ul>
<li>R is a program that you installed on your computer that allows you
to write code in the <strong>R programming language</strong>.</li>
<li>R is a command-line program that executes code one line at a time to
produce output (more on this later).</li>
<li>R code is usually written and saved in files called
<strong>scripts</strong> which you can customize to do almost
anything.</li>
<li>RStudio is a program that allows you to write R code and test it out
at the same time (which is why it is called an integrated development
environment). It provides a <strong>G</strong>raphical
<strong>U</strong>ser <strong>I</strong>nterface (GUI) that makes it
easier to interact with R and develop R code.</li>
</ul>
<p>Let’s start by opening the student workbook RStudio project that
accompanies this text. To open an RStudio project, use your computer’s
file browser to navigate to the R-course-NEON-workbook folder you
downloaded. Inside this folder, double click on the
R-course-NEON-workbook.Rproj file (see the lesson: <a
href="chp-computer-navigation.html">Navigating your computer</a>)</p>
<p><strong>Basic layout</strong></p>
<p>When you first open RStudio, you will be greeted by three panels:</p>
<ul>
<li>The interactive R console/Terminal (entire left)</li>
<li>Environment/History/Connections (tabbed in upper right)</li>
<li>Files/Plots/Packages/Help/Viewer (tabbed in lower right)</li>
</ul>
<p>If you opened the R-course-NEON-workbook project then your RStudio
session should look like this:</p>
<p><img src="images/01-rstudio.png" alt="RStudio layout" /></p>
<p>We’re going to start working in the R console to learn about some of
the basic functionality of R. Once we start learning more complex code,
we will open the Source panel and create an R script for saving the code
that we write.</p>
<p>The first thing you will see in the R console is a bunch of
information, followed by a “&gt;” and a blinking cursor. This is a
<strong>command-line interface</strong>; it reads and evaluates one line
of code at a time, printing out any results of each line to the same
console window as it goes. If you type in commands at the command line,
R tries to execute them, and then returns a result.</p>
<p>For the first part of this lesson, you should type any code that you
see in grey boxes into the command line in the R console and then press
enter.</p>
<pre class="r"><code>type this into the command line</code></pre>
<p>This document will show you the expected output of each command in a
white boxes below like this:</p>
<pre><code>expected code output</code></pre>
<p>Or, the expected output may show up directly below the line of code
and be preceded by a <code>[1]</code>:</p>
<pre class="r"><code>type this into the command line
[1] expected code output</code></pre>
</div>
<div id="what-can-r-do" class="section level3">
<h3>What can R do?</h3>
<p>As mentioned in the introduction, R can do almost anything, although
it is not always the best tool for every job.</p>
<div id="arithmetic-and-calculations" class="section level4">
<h4>Arithmetic and calculations</h4>
<p>The simplest thing you could do with R is to do arithmetic:</p>
<pre class="r"><code>1 + 100</code></pre>
<pre><code>[1] 101</code></pre>
<p>And R will print out the answer, with a preceding “[1]”. [1] is the
index of the first element of the line being printed in the console. For
more information on indexing vectors, see <a
href="chp-data-structures.html">Data structures and operations</a>.</p>
<p>If you type in an incomplete command, R will wait for you to complete
it. For example:</p>
<pre class="r"><code>1 +</code></pre>
<pre><code>+</code></pre>
<p>Any time you type return and the R session shows a “+” instead of a
“&gt;”, it means it’s waiting for you to complete the command. You can
either keep typing the rest of the command:</p>
<pre class="r"><code>1 +
100</code></pre>
<pre><code>[1] 101</code></pre>
<p>or cancel what you were doing. If you want to cancel a command you
can type <kbd>Esc</kbd> and RStudio will give you back the “&gt;”
prompt. Note that if you’re using R outside of RStudio, you need to use
<kbd>Ctrl</kbd>+<kbd>C</kbd> instead of <kbd>Esc</kbd> to cancel the
command.</p>
<p>Canceling a command isn’t only useful for stopping incomplete
commands: you can also use it to tell R to stop running code (for
example if it’s taking much longer than you expect), or to get rid of
the code you’re currently writing.</p>
<p>When using R as a calculator, the order of operations is the same as
you would have learned in math class.</p>
<p>From highest to lowest precedence:</p>
<ul>
<li>Parentheses: <code>(</code>, <code>)</code></li>
<li>Exponents: <code>^</code> or <code>**</code></li>
<li>Multiply: <code>*</code></li>
<li>Divide: <code>/</code></li>
<li>Add: <code>+</code></li>
<li>Subtract: <code>-</code></li>
</ul>
<pre class="r"><code>3 + 5 * 2</code></pre>
<pre><code>[1] 13</code></pre>
<p>Use parentheses to group operations in order to force the order of
evaluation if it differs from the default, or to make clear what you
intend.</p>
<pre class="r"><code>(3 + 5) * 2</code></pre>
<pre><code>[1] 16</code></pre>
<p>Really small or large numbers get a scientific notation:</p>
<pre class="r"><code>2/10000</code></pre>
<pre><code>[1] 2e-04</code></pre>
<p>Which is shorthand for “multiplied by <code>10^XX</code>”. So
<code>2e-4</code> is shorthand for <code>2 * 10^(-4)</code>.</p>
<p>You can write numbers in scientific notation too:</p>
<pre class="r"><code>5e3  </code></pre>
<pre><code>[1] 5000</code></pre>
<p>R has many built in mathematical functions. To use a function, we can
type its name, followed by open and closing parentheses (just like
functions in math!). Functions take <strong>arguments</strong> as
inputs- anything we type inside the parentheses of a function is
considered an argument. Depending on the function, the number of
arguments can vary from none to multiple. For example:</p>
<pre class="r"><code>getwd() # returns an absolute file path of the current working directory</code></pre>
<p>doesn’t require an argument, whereas for the next set of mathematical
functions we will need to supply the function a value in order to
compute the result.</p>
<pre class="r"><code>sin(1)  # trigonometry functions</code></pre>
<pre><code>[1] 0.841471</code></pre>
<pre class="r"><code>log(1)  # natural logarithm</code></pre>
<pre><code>[1] 0</code></pre>
<pre class="r"><code>log10(10) # base-10 logarithm</code></pre>
<pre><code>[1] 1</code></pre>
<pre class="r"><code>exp(0.5) # e^(1/2)</code></pre>
<pre><code>[1] 1.648721</code></pre>
<p>Some functions take multiple arguments that are separated by
commas.</p>
<pre class="r"><code>sum(1, 2, 3) # adds all numeric arguments together</code></pre>
<pre><code>[1] 6</code></pre>
<p>Did you notice the text at the end of each line of code above? This
text is called a <strong>comment</strong> because it is preceded by a
hash character (<code>#</code>). This character tells R to ignore
anything that comes after it on the same line. Since this text is not
evaluated we can use it to make notes about what the code does. You do
not need to type the comments into the command line to run the code.</p>
<blockquote>
<div class="challenge">
<p><strong>Try this:</strong> What should be the ouput for each of these
commands?</p>
<pre class="r"><code>log(exp(3 + 3)) 
2e-1 + 5</code></pre>
</div>
<div class="solution">
<pre class="r"><code>log(exp(3 + 3)) 
[1] 6
2e-1 + 5
[1] 5.2</code></pre>
</div>
</blockquote>
<blockquote>
<div class="challenge">
<p><strong>Try this:</strong> What do the values <code>NA</code> and
<code>NULL</code> mean?</p>
<p>Run each of these commands and try to guess what is happening.</p>
<pre class="r"><code>sum(3, NA)
sum(3, NULL)</code></pre>
</div>
<div class="solution">
<pre class="r"><code>sum(3, NA)
[1] NA
sum(3, NULL)
[1] 3</code></pre>
<p><code>NA</code> is a special placeholder value that means that data
is missing. <code>NULL</code> is a special value that means something
does not exist. Thus, arithmetic with <code>NA</code> will by default
give a <code>NA</code> result because missing values are values that we
may have tried to collect, but failed to do so. In contrast,
<code>NULL</code> values do not take up any space and are ignored by
default in calculations. We will learn later how to ignore missing
values in calculations.</p>
</div>
</blockquote>
</div>
<div id="work-with-stored-values-in-a-computing-environment"
class="section level4">
<h4>Work with stored values in a computing environment</h4>
<p>The first step toward writing code is to store values for use later.
We can store values using the assignment operator <code>&lt;-</code>,
like this:</p>
<pre class="r"><code>x &lt;- 1/40</code></pre>
<p>Notice that assignment does not print a value. Instead, we stored it
for later in something called a <strong>variable</strong>.
<code>x</code> now contains the <strong>value</strong>
<code>0.025</code>:</p>
<pre class="r"><code>x</code></pre>
<pre><code>[1] 0.025</code></pre>
<p>More precisely, the stored value is a <em>decimal approximation</em>
of this fraction called a <a
href="http://en.wikipedia.org/wiki/Floating_point">floating point
number</a>. The value is stored in an <strong>object</strong> named
<code>x</code> in the environment.</p>
<p>Look for the <code>Environment</code> tab in the top right panel of
RStudio, and you will see that <code>x</code> and its value have
appeared. The variable <code>x</code> can be used in place of a number
in any calculation that expects a number:</p>
<pre class="r"><code>log(x)</code></pre>
<pre><code>[1] -3.688879</code></pre>
<p>Notice also that variables can be reassigned when they already
exist:</p>
<pre class="r"><code>x &lt;- 100</code></pre>
<p><code>x</code> used to contain the value 0.025 and now it has the
value 100. You can see this in the <code>Environment</code> tab in the
upper right panel.</p>
<p>Assignment values can contain the variable being assigned to (watch
what happens to the values of <code>x</code> and <code>y</code> in the
Environment tab):</p>
<pre class="r"><code>x &lt;- x + 1 
y &lt;- x * 2</code></pre>
<p>The right hand side of the assignment can be any valid R expression.
The right hand side is <em>fully evaluated</em> before the assignment
occurs.</p>
<blockquote>
<div class="challenge">
<p><strong>Try this:</strong></p>
<p>What will be the values of <code>y</code> and <code>z</code> after
you run these lines of code in order?</p>
<pre class="r"><code>x &lt;- 10
y &lt;- 2*x
z &lt;- x + y
x &lt;- 20</code></pre>
</div>
<div class="solution">
<pre class="r"><code># type the variable names to print out their values
x
[1] 20
y 
[1] 20
z
[1] 30</code></pre>
</div>
</blockquote>
<p>Did you guess correctly? Even though we changed the value of
<code>x</code> in the last line, this does not change the value of
<code>y</code> or <code>z</code> because the values of these two
variables were assigned when <code>x</code> was <code>10</code>. We
would have to run the assignment of <code>y</code> and <code>z</code>
again to update their values based on the new value of
<code>x</code>:</p>
<pre class="r"><code>y &lt;- 2*x
z &lt;- x + y

x
[1] 20
y
[1] 40
z
[1] 60</code></pre>
<p><strong>Time saving tip:</strong> Instead of retyping commands that
you want to run again into the console, use the up arrow key at the
command prompt. Each time you press the up arrow the command line will
cycle back through commands you typed previously. Use the back arrow key
to edit the command before running it again.</p>
<blockquote>
<div class="challenge">
<p><strong>Try this:</strong> Is R case sensitive?</p>
<p>What happens when you run this code?</p>
<pre class="r"><code>y &lt;- 2*X</code></pre>
</div>
<div class="solution">
<pre><code>Error in eval(expr, envir, enclos): object &#39;X&#39; not found</code></pre>
<p>We’ve discovered a very important point about variable names- they
are case sensitive! <code>x</code> is a different variable than
<code>X</code>. Thus, if you try to use a variable that you have not
defined in the environment, R will print out an error message saying
that it can’t find the variable you used.</p>
</div>
</blockquote>
<p><strong>Important:</strong> Variable names can contain letters,
numbers, underscores and periods but no spaces. They must start with a
letter or a period followed by a letter (they cannot start with a number
nor an underscore). Variables beginning with a period are hidden
variables. Different people use different conventions for long variable
names, these include</p>
<ul>
<li>periods.between.words</li>
<li>underscores_between_words</li>
<li>camelCaseToSeparateWords</li>
</ul>
<p>What you use is up to you, but <strong>be consistent</strong>.</p>
<p>You should also avoid using variable names that are the same as
values or functions in R (e.g., <code>pi</code>, <code>sum</code>,
<code>c</code>, <code>names</code>, <code>data</code>). In general, try
to use a name that is specific to what the variable represents. If
you’re not sure whether a name is used in R, you can use the
<code>?</code> to look it up (more on this later):</p>
<pre class="r"><code>?mean</code></pre>
<pre class="r"><code>?average</code></pre>
<pre><code>No documentation for &#39;average&#39; in specified packages and libraries:
you could try &#39;??average&#39;</code></pre>
<p>If a name already exists for a function, it will open up a Help
window. If the name is available for you to use, then the console will
report that it could not find any documentation.</p>
<p>It is also possible to use the <code>=</code> operator for
assignment:</p>
<pre class="r"><code>x = 1/40</code></pre>
<p>But this is much less common among R users. The most important thing
is to <strong>be consistent</strong> with the operator you use. There
are occasionally places where it is less confusing to use
<code>&lt;-</code> than <code>=</code>, and it is the most common symbol
used in the community. So the recommendation is to use
<code>&lt;-</code>.</p>
<blockquote>
<div class="challenge">
<p><strong>Try this:</strong> Which of the following are valid R
variable names?</p>
<pre class="r"><code>min_height
max.height
_age
.mass
MaxLength
min-length
2widths
celsius2kelvin
exp
pi</code></pre>
</div>
<div class="solution">
<p>These can be used as R variables: <code>min_height</code>
<code>max.height</code> <code>MaxLength</code>
<code>celsius2kelvin</code></p>
<p>This creates a hidden variable: <code>.mass</code></p>
<p>These cannot be used to create a variable: <code>_age</code>
<code>min-length</code> <code>2widths</code></p>
<p>These should not be used as variable names because they already exist
in R: <code>pi</code> <code>exp</code></p>
</div>
</blockquote>
</div>
<div id="calculations-on-multiple-stored-values-at-once"
class="section level4">
<h4>Calculations on multiple stored values at once</h4>
<p>R can assign multiple values to the same object- one way to do this
is using a <strong>vector</strong>, an ordered list of values that are
of the same data type (e.g. numbers, text, TRUE/FALSE). In <a
href="chp-data-structures.html">Data structures and operations</a> we
will explain in much more detail the different types of data and objects
you can create in R, but for now let’s just explore how R does
arithmetic with vectors.</p>
<p>You can construct a vector using the <code>c()</code> function:</p>
<pre class="r"><code>ages &lt;- c(18, 19, 21, 17)
firstNames &lt;- c(&quot;Sasha&quot;, &quot;Everett&quot;, &quot;Hope&quot;, &quot;Arturo&quot;)

ages
[1] 18 19 21 17
firstNames
[1] &quot;Sasha&quot;   &quot;Everett&quot; &quot;Hope&quot;    &quot;Arturo&quot; </code></pre>
<p>You can also put vectors together using the <code>c()</code>
function:</p>
<pre class="r"><code>c(20, ages, 40)</code></pre>
<pre><code>[1] 20 18 19 21 17 40</code></pre>
<p>To select an element in a list, type the <strong>index</strong> of
the element desired inside square brackets. For example, to select the
second element:</p>
<pre class="r"><code>firstNames[2]</code></pre>
<pre><code>[1] &quot;Everett&quot;</code></pre>
<p>You can select multiple elements at once by typing a vector of
indices inside the square brackets:</p>
<pre class="r"><code>firstNames[c(3, 1)]</code></pre>
<pre><code>[1] &quot;Hope&quot;  &quot;Sasha&quot;</code></pre>
<p>A colon <code>:</code> is a special operator that will create a
vector of integers in order:</p>
<pre class="r"><code>1:4</code></pre>
<pre><code>[1] 1 2 3 4</code></pre>
<pre class="r"><code>4:1</code></pre>
<pre><code>[1] 4 3 2 1</code></pre>
<p>To make a vector with any sequence of integers, use the
<code>seq()</code> function:</p>
<pre class="r"><code>seq(1, 10, by = 2)</code></pre>
<pre><code>[1] 1 3 5 7 9</code></pre>
<pre class="r"><code>seq(0, 100, by = 10)</code></pre>
<pre><code> [1]   0  10  20  30  40  50  60  70  80  90 100</code></pre>
<blockquote>
<div class="challenge">
<p><strong>Try this:</strong> Can you predict what each of the following
lines of code will return?</p>
<pre class="r"><code>c(&quot;Betsy&quot;, firstNames)
firstNames[4:1]
ages[c(2, 4)]
ages[1, 3]
c(firstNames, ages)</code></pre>
</div>
<div class="solution">
<pre class="r"><code>c(&quot;Betsy&quot;, firstNames)
[1] &quot;Betsy&quot;   &quot;Sasha&quot;   &quot;Everett&quot; &quot;Hope&quot;    &quot;Arturo&quot; 

firstNames[4:1]
[1] &quot;Arturo&quot;  &quot;Hope&quot;    &quot;Everett&quot; &quot;Sasha&quot;  

ages[c(2, 4)]
[1] 19 17</code></pre>
<pre class="r"><code>ages[1, 3]
Error in ages[1, 3]: incorrect number of dimensions</code></pre>
<p>Why did <code>ages[1, 3]</code> give an error message? Notice that
<code>1, 3</code> is not a vector. In order to select elements 1 and 3
from <code>ages</code> we need to first create a vector containing the
integers 1 and 3: <code>c(1, 3)</code> and then place this inside the
brackets: <code>ages[c(1, 3)]</code>.</p>
<pre class="r"><code>c(firstNames, ages)
[1] &quot;Sasha&quot;   &quot;Everett&quot; &quot;Hope&quot;    &quot;Arturo&quot;  &quot;18&quot;      &quot;19&quot;      &quot;21&quot;     
[8] &quot;17&quot;     </code></pre>
<p>Notice that when we concatenated <code>firstNames</code> and
<code>ages</code> all of the ages turned into text with each number
surrounded by quotes. This is because all elements in a vector must have
the same data type, either numbers or text, but not both. R tried to fix
this by using the data type of the first vector we supplied.</p>
</div>
</blockquote>
<p>Vectors are useful because we can use them to do multiple
calculations at once. Adding or multiplying a vector by a scalar applies
the operation to each element of the vector.</p>
<pre class="r"><code>ages + 10</code></pre>
<pre><code>[1] 28 29 31 27</code></pre>
<pre class="r"><code>2 * ages</code></pre>
<pre><code>[1] 36 38 42 34</code></pre>
<pre class="r"><code>ages / 2</code></pre>
<pre><code>[1]  9.0  9.5 10.5  8.5</code></pre>
<p>Arithmetic between two vectors is conducted element by element:</p>
<pre class="r"><code>ages + 1:4</code></pre>
<pre><code>[1] 19 21 24 21</code></pre>
<pre class="r"><code>ages - ages</code></pre>
<pre><code>[1] 0 0 0 0</code></pre>
<pre class="r"><code>ages[1:2] - ages[3:4]</code></pre>
<pre><code>[1] -3  2</code></pre>
<blockquote>
<div class="challenge">
<p><strong>Try this:</strong></p>
<ol style="list-style-type: decimal">
<li>Calculate the sum of all integers between 1 and 100.</li>
<li>Calculate the difference between the sum of all odd numbers between
1 and 50 and the sum of all even numbers between 1 and 50.</li>
</ol>
</div>
<div class="solution">
<p>There are lots of ways to solve this problem. Here is one way.</p>
<pre class="r"><code># Sum of all integers between 1 and 100
sum(1:100)
[1] 5050

# Difference between sum of odds and evens  between 1 and 50
odds &lt;- seq(1, 50, 2) # a vector with all odd numbers
evens &lt;- seq(2, 50, 2) # a vector with all even numbers
sum(odds) - sum(evens) # calculate sum of each vector, then take the difference
[1] -25</code></pre>
</div>
</blockquote>
</div>
</div>
<div id="managing-your-environment" class="section level3">
<h3>Managing your environment</h3>
<p>There are a few useful commands you can use to interact with the R
session.</p>
<p><code>ls</code> will list all of the variables and functions stored
in the global environment (your working R session):</p>
<pre class="r"><code>ls()</code></pre>
<pre><code> [1] &quot;ages&quot;           &quot;chp_num&quot;        &quot;chp_str&quot;        &quot;chptable&quot;      
 [5] &quot;CStable&quot;        &quot;dat&quot;            &quot;evens&quot;          &quot;firstNames&quot;    
 [9] &quot;gapminder&quot;      &quot;get_chpName&quot;    &quot;get_chpNum&quot;     &quot;get_LO&quot;        
[13] &quot;knitr_fig_path&quot; &quot;LOtable&quot;        &quot;odds&quot;           &quot;x&quot;             
[17] &quot;y&quot;              &quot;z&quot;             </code></pre>
<blockquote>
<h4 id="tip-hidden-objects">Tip: hidden objects</h4>
<p>Like in the shell, <code>ls</code> will hide any variables or
functions starting with a “.” by default. To list all objects, type
<code>ls(all.names=TRUE)</code> instead</p>
</blockquote>
<p>Note here that we didn’t give any arguments to <code>ls</code>, but
we still needed to give the parentheses to tell R to call the
function.</p>
<p>If we type <code>ls</code> by itself, R prints a bunch of code
instead of a listing of objects.</p>
<pre class="r"><code>ls</code></pre>
<pre><code>function (name, pos = -1L, envir = as.environment(pos), all.names = FALSE, 
    pattern, sorted = TRUE) 
{
    if (!missing(name)) {
        pos &lt;- tryCatch(name, error = function(e) e)
        if (inherits(pos, &quot;error&quot;)) {
            name &lt;- substitute(name)
            if (!is.character(name)) 
                name &lt;- deparse(name)
            warning(gettextf(&quot;%s converted to character string&quot;, 
                sQuote(name)), domain = NA)
            pos &lt;- name
        }
    }
    all.names &lt;- .Internal(ls(envir, all.names, sorted))
    if (!missing(pattern)) {
        if ((ll &lt;- length(grep(&quot;[&quot;, pattern, fixed = TRUE))) &amp;&amp; 
            ll != length(grep(&quot;]&quot;, pattern, fixed = TRUE))) {
            if (pattern == &quot;[&quot;) {
                pattern &lt;- &quot;\\[&quot;
                warning(&quot;replaced regular expression pattern &#39;[&#39; by  &#39;\\\\[&#39;&quot;)
            }
            else if (length(grep(&quot;[^\\\\]\\[&lt;-&quot;, pattern))) {
                pattern &lt;- sub(&quot;\\[&lt;-&quot;, &quot;\\\\\\[&lt;-&quot;, pattern)
                warning(&quot;replaced &#39;[&lt;-&#39; by &#39;\\\\[&lt;-&#39; in regular expression pattern&quot;)
            }
        }
        grep(pattern, all.names, value = TRUE)
    }
    else all.names
}
&lt;bytecode: 0x000001ebecba99b0&gt;
&lt;environment: namespace:base&gt;</code></pre>
<p>What’s going on here?</p>
<p>Like everything in R, <code>ls</code> is the name of an object, and
entering the name of an object by itself prints the contents of the
object. The object <code>x</code> that we created earlier contains
0.025:</p>
<pre class="r"><code>x</code></pre>
<pre><code>[1] 0.025</code></pre>
<p>The object <code>ls</code> contains the R code that makes the
<code>ls</code> function work! We’ll talk more about how functions work
and start writing our own later.</p>
<p>You can use <code>rm</code> to delete objects you no longer need:</p>
<pre class="r"><code>rm(x)</code></pre>
<p>If you have lots of things in your environment and want to delete all
of them, you can pass the results of <code>ls</code> to the
<code>rm</code> function:</p>
<pre class="r"><code>rm(list = ls())</code></pre>
<p>In this case we’ve combined the two. Like the order of operations,
anything inside the innermost parentheses is evaluated first, and so
on.</p>
<p>In this case we’ve specified that the results of <code>ls</code>
should be used for the <code>list</code> argument in <code>rm</code>.
When assigning values to arguments by name, you <em>must</em> use the
<code>=</code> operator!!</p>
<p>If instead we use <code>&lt;-</code>, there will be unintended side
effects, or you may get an error message:</p>
<pre class="r"><code>rm(list &lt;- ls())</code></pre>
<pre><code>Error in rm(list &lt;- ls()): ... must contain names or character strings</code></pre>
<blockquote>
<h4 id="tip-warnings-vs.-errors">Tip: Warnings vs. Errors</h4>
<p>Pay attention when R does something unexpected! Errors, like above,
are thrown when R cannot proceed with a calculation. Warnings on the
other hand usually mean that the function has run, but it probably
hasn’t worked as expected.</p>
<p>In both cases, the message that R prints out usually give you clues
how to fix a problem.</p>
</blockquote>
<p>Notice that although rm() and ls() are similar to the shell commands
rm and ls, they operate in different spaces. The Terminal window in
RStudio accesses the file system on your computer. The R Console
accesses objects that you create during a specific R session. Once your
close R, these objects disappear forever; they are not saved on your
file system.</p>
</div>
<div id="writing-code-in-scripts" class="section level3">
<h3>Writing code in scripts</h3>
<ul>
<li>R and RStudio make it easy for anyone to reproduce your scientific
analyses because your analyses are saved as code scripts rather than
clicking through a graphical user interface</li>
</ul>
<p>2 4 write and save a code script in a project folder learners
will</p>
<p>2 5 write and save a code script use R and RStudio to 2 6 write
comments in a code script use R and RStudio to</p>
<p>Once you open files, such as R scripts, an editor panel will also
open in the top left.</p>
<p><img src="../fig/01-rstudio-script.png"
alt="RStudio layout with .R file open" /></p>
<blockquote>
<h4 id="r-scripts">R scripts</h4>
<p>Any commands that you write in the R console can be saved in to a
file to be re-run again. Files containing R code to be ran in this way
are called R scripts. R scripts have <code>.R</code> at the end of their
names to let you know what they are.</p>
</blockquote>
<blockquote>
<div class="challenge">
<h4 id="try-this-create-and-save-a-new-r-script"><strong>Try
this:</strong> Create and save a new R script</h4>
</div>
</blockquote>
</div>
<div id="workflow-within-rstudio" class="section level3">
<h3>Workflow within RStudio</h3>
<p>There are two main ways one can work within RStudio:</p>
<ol style="list-style-type: decimal">
<li>Test and play within the interactive R console then copy code into a
.R file to run later.
<ul>
<li>This works well when doing small tests and initially starting
off.</li>
<li>It quickly becomes laborious</li>
</ul></li>
<li>Start writing in a .R file and use RStudio’s short cut keys for the
Run command to push the current line, selected lines or modified lines
to the interactive R console.
<ul>
<li>This is a great way to start; all your code is saved for later</li>
<li>You will be able to run the file you create from within RStudio or
using R’s <code>source()</code> function.</li>
</ul></li>
</ol>
<blockquote>
<h4 id="tip-running-segments-of-your-code">Tip: Running segments of your
code</h4>
<p>RStudio offers you great flexibility in running code from within the
editor window. There are buttons, menu choices, and keyboard shortcuts.
To run the current line, you can 1. click on the <code>Run</code> button
above the editor panel, or 2. select “Run Lines” from the “Code” menu,
or 3. type <kbd>Ctrl</kbd>+<kbd>Return</kbd> in Windows or Linux or
<kbd>⌘</kbd>+<kbd>Return</kbd> on OS X. (This shortcut can also be seen
by hovering the mouse over the button). To run a block of code, select
it and then <code>Run</code>. If you have modified a line of code within
a block of code you have just run, there is no need to reselect the
section and <code>Run</code>, you can use the next button along,
<code>Re-run the previous region</code>. This will run the previous code
block including the modifications you have made.</p>
</blockquote>
<blockquote>
<div class="challenge">
<p><strong>Try this:</strong> Open and run an R script</p>
<p>Open this script. Run it line by line and point out the part of the R
script from the prior section (e.g. read a table, assign a variable,
etc) Run the whole thing. Close it and use source() to run it from the
file.</p>
</div>
</blockquote>
<p>The text after each line of code is called a “comment”. Anything that
follows after the hash symbol <code>#</code> is ignored by R when it
executes code.</p>
<div id="reading-data-from-files" class="section level4">
<h4>Reading data from files</h4>
<p>2 5 read and view tabular data from a file learners will</p>
<p>2 7 read a data table from a file use R and RStudio to</p>
<p>tab complete reminder</p>
<p>EXTRA: you can download your own data set and read it into R</p>
<blockquote>
<p><strong>Try this:</strong> Download and save a NEON Dataset</p>
</blockquote>
<blockquote>
<p><a
href="https://raw.githubusercontent.com/swcarpentry/r-novice-gapminder/gh-pages/_episodes_rmd/data/gapminder_data.csv">here</a>.</p>
<ol style="list-style-type: decimal">
<li>Download the file (right mouse click on the link above -&gt; “Save
link as” / “Save file as”, or click on the link and after the page
loads, press <kbd>Ctrl</kbd>+<kbd>S</kbd> or choose File -&gt; “Save
page as”)</li>
<li>Make sure it’s saved under the name
<code>gapminder_data.csv</code></li>
<li>Save the file in the <code>data/</code> folder within your
project.</li>
</ol>
<p>We will load and inspect these data later. :::</p>
</blockquote>
<blockquote>
<h2 id="challenge-4">Challenge 4</h2>
<p>It is useful to get some general idea about the dataset, directly
from the command line, before loading it into R. Understanding the
dataset better will come in handy when making decisions on how to load
it in R. Use the command-line shell to answer the following questions:
1. What is the size of the file? 2. How many rows of data does it
contain? 3. What kinds of values are stored in this file?</p>
<blockquote>
<h2 id="solution-to-challenge-4">Solution to Challenge 4</h2>
<p>By running these commands in the shell:</p>
<pre class="sh"><code>ls -lh data/gapminder_data.csv</code></pre>
<pre><code>-rw-r--r-- 1 User User 80K Apr 17 10:03 data/gapminder_data.csv</code></pre>
<p>The file size is 80K.</p>
<pre class="sh"><code>wc -l data/gapminder_data.csv</code></pre>
<pre><code>1705 data/gapminder_data.csv</code></pre>
<p>There are 1705 lines. The data looks like:</p>
<pre class="sh"><code>head data/gapminder_data.csv</code></pre>
<pre><code>country,year,pop,continent,lifeExp,gdpPercap
Afghanistan,1952,8425333,Asia,28.801,779.4453145
Afghanistan,1957,9240934,Asia,30.332,820.8530296
Afghanistan,1962,10267083,Asia,31.997,853.10071
Afghanistan,1967,11537966,Asia,34.02,836.1971382
Afghanistan,1972,13079460,Asia,36.088,739.9811058
Afghanistan,1977,14880372,Asia,38.438,786.11336
Afghanistan,1982,12881816,Asia,39.854,978.0114388
Afghanistan,1987,13867957,Asia,40.822,852.3959448
Afghanistan,1992,16317921,Asia,41.674,649.3413952</code></pre>
</blockquote>
</blockquote>
<div id="working-directory---fixme" class="section level5">
<h5>Working directory - FIXME</h5>
<p>Knowing R’s current working directory is important because when you
need to access other files (for example, to import a data file), R will
look for them relative to the current working directory.</p>
<p>Each time you create a new RStudio Project, it will create a new
directory for that project. When you open an existing
<code>.Rproj</code> file, it will open that project and set R’s working
directory to the folder that file is in.</p>
<blockquote>
<h4 id="challenge-5">Challenge 5</h4>
<p>You can check the current working directory with the
<code>getwd()</code> command, or by using the menus in RStudio.</p>
<ol style="list-style-type: decimal">
<li>In the console, type <code>getwd()</code> (“wd” is short for
“working directory”) and hit Enter.</li>
<li>In the Files pane, double click on the <code>data</code> folder to
open it (or navigate to any other folder you wish). To get the Files
pane back to the current working directory, click “More” and then select
“Go To Working Directory”.</li>
</ol>
<p>You can change the working directory with <code>setwd()</code>, or by
using RStudio menus.</p>
<ol style="list-style-type: decimal">
<li>In the console, type <code>setwd("data")</code> and hit Enter. Type
<code>getwd()</code> and hit Enter to see the new working
directory.</li>
<li>In the menus at the top of the RStudio window, click the “Session”
menu button, and then select “Set Working Directory” and then “Choose
Directory”.</li>
<li>In the windows navigator that opens, navigate back to the project
directory, and click “Open”. Note that a <code>setwd</code> command will
automatically appear in the console. {: .challenge}</li>
</ol>
</blockquote>
<div class="callout">
<blockquote>
<h4 id="tip-file-does-not-exist-errors">Tip: File does not exist
errors</h4>
<p>When you’re attempting to reference a file in your R code and you’re
getting errors saying the file doesn’t exist, it’s a good idea to check
your working directory. You need to either provide an absolute path to
the file, or you need to make sure the file is saved in the working
directory (or a subfolder of the working directory) and provide a
relative path.</p>
</blockquote>
</div>
</div>
</div>
</div>
<div id="installing-and-loading-packages" class="section level3">
<h3>Installing and loading packages</h3>
<p>“base” R is the functionality that comes installed with R, but the
powerfull thing about R is its user community who have created thousands
of “packages” that increase its functionality.</p>
<p>2 3 install and load packages in R learners will</p>
<p>It is possible to add functions to R by writing a package, or by
obtaining a package written by someone else. As of this writing, there
are over 10,000 packages available on CRAN (the comprehensive R archive
network). R and RStudio have functionality for managing packages:</p>
<ul>
<li>You can see what packages are installed by typing
<code>installed.packages()</code></li>
<li>You can install packages by typing
<code>install.packages("packagename")</code>, where
<code>packagename</code> is the package name, in quotes.</li>
<li>You can update installed packages by typing
<code>update.packages()</code></li>
<li>You can remove a package with
<code>remove.packages("packagename")</code></li>
<li>You can make a package available for use with
<code>library(packagename)</code></li>
</ul>
<p>Packages can also be viewed, loaded, and detached in the Packages tab
of the lower right panel in RStudio. Clicking on this tab will display
all of the installed packages with a checkbox next to them. If the box
next to a package name is checked, the package is loaded and if it is
empty, the package is not loaded. Click an empty box to load that
package and click a checked box to detach that package.</p>
<p>Packages can be installed and updated from the Package tab with the
Install and Update buttons at the top of the tab.</p>
<blockquote>
<h2 id="challenge-5-1">Challenge 5</h2>
<p>Install the following packages: <code>ggplot2</code>,
<code>plyr</code>, <code>gapminder</code></p>
<blockquote>
<h2 id="solution-to-challenge-5">Solution to challenge 5</h2>
<p>We can use the <code>install.packages()</code> command to install the
required packages.</p>
<pre class="r"><code>install.packages(&quot;ggplot2&quot;)
install.packages(&quot;plyr&quot;)
install.packages(&quot;gapminder&quot;)</code></pre>
<p>An alternate solution, to install multiple packages with a single
<code>install.packages()</code> command is:</p>
<pre class="r"><code>install.packages(c(&quot;ggplot2&quot;, &quot;plyr&quot;, &quot;gapminder&quot;))</code></pre>
</blockquote>
</blockquote>
<div id="getting-help" class="section level4">
<h4>Getting help</h4>
<p>2 9 learn how to get help and troubleshoot error messages learners
will 2 8 access and understand a function’s documentation page use R and
RStudio to</p>
<p>Don’t worry about trying to remember every function in R. You can
look them up on Google, or if you can remember the start of the
function’s name, use the tab completion in RStudio.</p>
<p>This is one advantage that RStudio has over R on its own, it has
auto-completion abilities that allow you to more easily look up
functions, their arguments, and the values that they take.</p>
<p>Typing a <code>?</code> before the name of a command will open the
help page for that command. When using RStudio, this will open the
‘Help’ pane; if using R in the terminal, the help page will open in your
browser. The help page will include a detailed description of the
command and how it works. Scrolling to the bottom of the help page will
usually show a collection of code examples which illustrate command
usage. We’ll go through an example later.</p>
<p>R, and every package, provide help files for functions. The general
syntax to search for help on any function, “function_name”, from a
specific function that is in a package loaded into your namespace (your
interactive R session) is:</p>
<pre class="r"><code>?function_name
help(function_name)</code></pre>
<p>For example take a look at the help file for
<code>write.table()</code>, we will be using a similar function in an
upcoming episode.</p>
<pre class="r"><code>?write.table()</code></pre>
<p>This will load up a help page in RStudio (or as plain text in R
itself).</p>
<p>Each help page is broken down into sections:</p>
<ul>
<li>Description: An extended description of what the function does.</li>
<li>Usage: The arguments of the function and their default values (which
can be changed).</li>
<li>Arguments: An explanation of the data each argument is
expecting.</li>
<li>Details: Any important details to be aware of.</li>
<li>Value: The data the function returns.</li>
<li>See Also: Any related functions you might find useful.</li>
<li>Examples: Some examples for how to use the function.</li>
</ul>
<p>Different functions might have different sections, but these are the
main ones you should be aware of.</p>
<p>Notice how related functions might call for the same help file:</p>
<pre class="r"><code>?write.table()
?write.csv()</code></pre>
<p>This is because these functions have very similar applicability and
often share the same arguments as inputs to the function, so package
authors often choose to document them together in a single help
file.</p>
<blockquote>
<h4 id="tip-running-examples">Tip: Running Examples</h4>
<p>From within the function help page, you can highlight code in the
Examples and type <kbd>Ctrl</kbd>+<kbd>Return</kbd> to run it in RStudio
console. This gives you a quick way to get a feel for how a function
works.</p>
</blockquote>
<blockquote>
<h4 id="tip-reading-help-files">Tip: Reading Help Files</h4>
<p>One of the most daunting aspects of R is the large number of
functions available. It would be prohibitive, if not impossible to
remember the correct usage for every function you use. Luckily, using
the help files means you don’t have to remember that!</p>
</blockquote>
</div>
</div>
<div id="special-operators" class="section level3">
<h3>Special Operators</h3>
<p>To seek help on special operators, use quotes or backticks:</p>
<pre class="r"><code>?&quot;&lt;-&quot;
?`&lt;-`</code></pre>
</div>
<div id="getting-help-with-packages" class="section level3">
<h3>Getting Help with Packages</h3>
<p>Many packages come with “vignettes”: tutorials and extended example
documentation. Without any arguments, <code>vignette()</code> will list
all vignettes for all installed packages;
<code>vignette(package="package-name")</code> will list all available
vignettes for <code>package-name</code>, and
<code>vignette("vignette-name")</code> will open the specified
vignette.</p>
<p>If a package doesn’t have any vignettes, you can usually find help by
typing <code>help("package-name")</code>.</p>
<p>RStudio also has a set of excellent <a
href="https://rstudio.com/resources/cheatsheets/">cheatsheets</a> for
many packages.</p>
</div>
<div id="when-you-remember-part-of-the-function-name"
class="section level3">
<h3>When You Remember Part of the Function Name</h3>
<p>If you’re not sure what package a function is in or how it’s
specifically spelled, you can do a fuzzy search:</p>
<pre class="r"><code>??function_name</code></pre>
<p>A fuzzy search is when you search for an approximate string match.
For example, you may remember that the function to set your working
directory includes “set” in its name. You can do a fuzzy search to help
you identify the function:</p>
<pre class="r"><code>??set</code></pre>
</div>
<div id="when-you-have-no-idea-where-to-begin" class="section level3">
<h3>When You Have No Idea Where to Begin</h3>
<p>If you don’t know what function or package you need to use <a
href="http://cran.at.r-project.org/web/views">CRAN Task Views</a> is a
specially maintained list of packages grouped into fields. This can be a
good starting point.</p>
</div>
<div id="when-your-code-doesnt-work-seeking-help-from-your-peers"
class="section level3">
<h3>When Your Code Doesn’t Work: Seeking Help from Your Peers</h3>
<p>If you’re having trouble using a function, 9 times out of 10, the
answers you seek have already been answered on <a
href="http://stackoverflow.com/">Stack Overflow</a>. You can search
using the <code>[r]</code> tag. Please make sure to see their page on <a
href="https://stackoverflow.com/help/how-to-ask">how to ask a good
question.</a></p>
<p>If you can’t find the answer, there are a few useful functions to
help you ask your peers:</p>
<pre class="r"><code>?dput</code></pre>
<p>Will dump the data you’re working with into a format that can be
copied and pasted by others into their own R session.</p>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 4.2.1 (2022-06-23 ucrt)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 22621)

Matrix products: default

locale:
[1] LC_COLLATE=English_United States.utf8 
[2] LC_CTYPE=English_United States.utf8   
[3] LC_MONETARY=English_United States.utf8
[4] LC_NUMERIC=C                          
[5] LC_TIME=English_United States.utf8    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] ggplot2_3.3.6 dplyr_1.0.9   knitr_1.41   

loaded via a namespace (and not attached):
 [1] highr_0.10       pillar_1.7.0     bslib_0.4.2      compiler_4.2.1  
 [5] jquerylib_0.1.4  tools_4.2.1      digest_0.6.29    jsonlite_1.8.0  
 [9] evaluate_0.15    lifecycle_1.0.3  tibble_3.1.7     gtable_0.3.0    
[13] pkgconfig_2.0.3  rlang_1.0.6      cli_3.5.0        rstudioapi_0.13 
[17] yaml_2.3.6       xfun_0.36        fastmap_1.1.0    withr_2.5.0     
[21] stringr_1.5.0    generics_0.1.2   vctrs_0.4.1      sass_0.4.4      
[25] grid_4.2.1       tidyselect_1.1.2 glue_1.6.2       R6_2.5.1        
[29] fansi_1.0.3      rmarkdown_2.19   farver_2.1.0     purrr_0.3.4     
[33] magrittr_2.0.3   scales_1.2.0     codetools_0.2-18 htmltools_0.5.4 
[37] ellipsis_0.3.2   colorspace_2.0-3 labeling_0.4.2   utf8_1.2.2      
[41] stringi_1.7.8    munsell_0.5.0    cachem_1.0.6     crayon_1.5.1    </code></pre>
<p>Will print out your current version of R, as well as any packages you
have loaded. This can be useful for others to help reproduce and debug
your issue.</p>
<blockquote>
<h2 id="challenge-1">Challenge 1</h2>
<p>Look at the help page for the <code>c</code> function. What kind of
vector do you expect will be created if you evaluate the following:</p>
<pre class="r"><code>c(1, 2, 3)
c(&#39;d&#39;, &#39;e&#39;, &#39;f&#39;)
c(1, 2, &#39;f&#39;)</code></pre>
<blockquote>
<h2 id="solution-to-challenge-1">Solution to Challenge 1</h2>
<p>The <code>c()</code> function creates a vector, in which all elements
are of the same type. In the first case, the elements are numeric, in
the second, they are characters, and in the third they are also
characters: the numeric values are “coerced” to be characters.</p>
</blockquote>
</blockquote>
<blockquote>
<h2 id="challenge-2">Challenge 2</h2>
<p>Look at the help for the <code>paste</code> function. You will need
to use it later. What’s the difference between the <code>sep</code> and
<code>collapse</code> arguments?</p>
<blockquote>
<h2 id="solution-to-challenge-2">Solution to Challenge 2</h2>
<p>To look at the help for the <code>paste()</code> function, use:</p>
<pre class="r"><code>help(&quot;paste&quot;)
?paste</code></pre>
<p>The difference between <code>sep</code> and <code>collapse</code> is
a little tricky. The <code>paste</code> function accepts any number of
arguments, each of which can be a vector of any length. The
<code>sep</code> argument specifies the string used between concatenated
terms — by default, a space. The result is a vector as long as the
longest argument supplied to <code>paste</code>. In contrast,
<code>collapse</code> specifies that after concatenation the elements
are <em>collapsed</em> together using the given separator, the result
being a single string.</p>
<p>It is important to call the arguments explicitly by typing out the
argument name e.g <code>sep = ","</code> so the function understands to
use the “,” as a separator and not a term to concatenate. e.g. </p>
<pre class="r"><code>paste(c(&quot;a&quot;,&quot;b&quot;), &quot;c&quot;)</code></pre>
<pre><code>[1] &quot;a c&quot; &quot;b c&quot;</code></pre>
<pre class="r"><code>paste(c(&quot;a&quot;,&quot;b&quot;), &quot;c&quot;, &quot;,&quot;)</code></pre>
<pre><code>[1] &quot;a c ,&quot; &quot;b c ,&quot;</code></pre>
<pre class="r"><code>paste(c(&quot;a&quot;,&quot;b&quot;), &quot;c&quot;, sep = &quot;,&quot;)</code></pre>
<pre><code>[1] &quot;a,c&quot; &quot;b,c&quot;</code></pre>
<pre class="r"><code>paste(c(&quot;a&quot;,&quot;b&quot;), &quot;c&quot;, collapse = &quot;|&quot;)</code></pre>
<pre><code>[1] &quot;a c|b c&quot;</code></pre>
<pre class="r"><code>paste(c(&quot;a&quot;,&quot;b&quot;), &quot;c&quot;, sep = &quot;,&quot;, collapse = &quot;|&quot;)</code></pre>
<pre><code>[1] &quot;a,c|b,c&quot;</code></pre>
<p>(For more information, scroll to the bottom of the
<code>?paste</code> help page and look at the examples, or try
<code>example('paste')</code>.) {: .solution} {: .challenge}</p>
</blockquote>
</blockquote>
<blockquote>
<h2 id="challenge-3">Challenge 3</h2>
<p>Use help to find a function (and its associated parameters) that you
could use to load data from a tabular file in which columns are
delimited with “ (tab) and the decimal point is a”.” (period). This
check for decimal separator is important, especially if you are working
with international colleagues, because different countries have
different conventions for the decimal point (i.e. comma vs period).
Hint: use <code>??"read table"</code> to look up functions related to
reading in tabular data.</p>
<blockquote>
<h2 id="solution-to-challenge-3">Solution to Challenge 3</h2>
<p>The standard R function for reading tab-delimited files with a period
decimal separator is read.delim(). You can also do this with
<code>read.table(file, sep="\t")</code> (the period is the
<em>default</em> decimal separator for <code>read.table()</code>),
although you may have to change the <code>comment.char</code> argument
as well if your data file contains hash (#) characters.</p>
</blockquote>
</blockquote>
</div>
</div>
<div id="exercises" class="section level2">
<h2>Exercises</h2>
<p>After completing these exercises, learners will be able to use R and
RStudio to:</p>
<ol style="list-style-type: decimal">
<li>execute simple mathematical calculations</li>
<li>assign and manipulate variables</li>
<li>assign, subset and manipulate data in a vector</li>
<li>execute vector algebra</li>
<li>write and save a code script</li>
<li>write comments in a code script</li>
<li>read a data table from a file</li>
<li>access and understand a function’s documentation page</li>
</ol>
<p>2 1 execute simple mathematical calculations use R and RStudio to 2 2
assign and manipulate variables use R and RStudio to 2 3 “assign, subset
and manipulate data in a vector” use R and RStudio to 2 4 execute vector
algebra use R and RStudio to 2 5 write and save a code script use R and
RStudio to 2 6 write comments in a code script use R and RStudio to 2 7
read a data table from a file use R and RStudio to 2 8 access and
understand a function’s documentation page use R and RStudio to</p>
<p>Number all exercises using the module number. Include starter code in
the /exercises folder if appropriate.</p>
<p>2.1</p>
<p>2.2</p>
<blockquote>
<h2 id="challenge-2-1">Challenge 2</h2>
<p>What will be the value of each variable after each statement in the
following program?</p>
<pre class="r"><code>mass &lt;- 47.5
age &lt;- 122
mass &lt;- mass * 2.3
age &lt;- age - 20</code></pre>
<blockquote>
<h2 id="solution-to-challenge-2-1">Solution to challenge 2</h2>
<pre class="r"><code>mass &lt;- 47.5</code></pre>
<p>This will give a value of 47.5 for the variable mass</p>
<pre class="r"><code>age &lt;- 122</code></pre>
<p>This will give a value of 122 for the variable age</p>
<pre class="r"><code>mass &lt;- mass * 2.3</code></pre>
<p>This will multiply the existing value of 47.5 by 2.3 to give a new
value of 109.25 to the variable mass.</p>
<pre class="r"><code>age &lt;- age - 20</code></pre>
<p>This will subtract 20 from the existing value of 122 to give a new
value of 102 to the variable age.</p>
</blockquote>
</blockquote>
<blockquote>
<h2 id="challenge-4-1">Challenge 4</h2>
<p>Clean up your working environment by deleting the mass and age
variables.</p>
<blockquote>
<h2 id="solution-to-challenge-4-1">Solution to challenge 4</h2>
<p>We can use the <code>rm</code> command to accomplish this task</p>
<pre class="r"><code>rm(age, mass)</code></pre>
</blockquote>
</blockquote>
</div>
<div id="sources-and-resources" class="section level2">
<h2>Sources and Resources</h2>
<p>This lesson was adapted from <a
href="https://swcarpentry.github.io/r-novice-gapminder/"><span
class="citation">Zimmerman et al. (2019)</span></a> episodes 1 and 3 by
Jes Coyle.</p>
<p>This lesson utilizes data from <span class="citation">National
Ecological Observatory Network (NEON) (2023a)</span> and <span
class="citation">National Ecological Observatory Network (NEON)
(2023b)</span>.</p>
<div id="additional-resources" class="section level3">
<h3>Additional Resources</h3>
<ul>
<li><a href="https://www.youtube.com/watch?v=kfcX5DEMAp4">#RYouWithMe:
Basic Basics Lesson 1: An Opinionated Tour of RStudio</a></li>
<li><a href="http://www.statmethods.net/">Quick R</a></li>
<li><a href="http://www.rstudio.com/resources/cheatsheets/">RStudio
cheat sheets</a></li>
<li><a href="http://www.cookbook-r.com/">Cookbook for R</a></li>
</ul>
</div>
<div id="cited-references" class="section level3">
<h3>Cited References</h3>
<pre class="js"><code>(function() {
  var codes = document.querySelectorAll(&#39;.solution&#39;);
  var code, i, d, s, p, h;
  for (i = 0; i &lt; codes.length; i++) {
    code = codes[i];
    p = code.parentNode;
    d = document.createElement(&#39;details&#39;);
    s = document.createElement(&#39;summary&#39;);
    h = document.createElement(&#39;strong&#39;);
    h.innerText = &#39;Solution:&#39;;
    // &lt;details&gt;&lt;summary&gt;&lt;em&gt;Solution:&lt;/em&gt;&lt;/summary&gt;&lt;/details&gt;
    s.appendChild(h);
    d.appendChild(s);
    // move the code into &lt;details&gt;
    p.replaceChild(d, code);
    d.appendChild(code);
  }
})();</code></pre>
<script type="text/javascript">
(function() {
  var codes = document.querySelectorAll('.solution');
  var code, i, d, s, p, h;
  for (i = 0; i < codes.length; i++) {
    code = codes[i];
    p = code.parentNode;
    d = document.createElement('details');
    s = document.createElement('summary');
    h = document.createElement('strong');
    h.innerText = 'Solution:';
    // <details><summary><em>Solution:</em></summary></details>
    s.appendChild(h);
    d.appendChild(s);
    // move the code into <details>
    p.replaceChild(d, code);
    d.appendChild(code);
  }
})();
</script>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-NEON-soilCO2" class="csl-entry">
National Ecological Observatory Network (NEON). 2023a. <span>“Soil CO2
Concentration (DP1.00095.001).”</span> National Ecological Observatory
Network (NEON). <a
href="https://doi.org/10.48443/BDGB-5V03">https://doi.org/10.48443/BDGB-5V03</a>.
</div>
<div id="ref-NEON-soiltemp" class="csl-entry">
———. 2023b. <span>“Soil Temperature (DP1.00041.001).”</span> National
Ecological Observatory Network (NEON). <a
href="https://doi.org/10.48443/9G10-EP60">https://doi.org/10.48443/9G10-EP60</a>.
</div>
<div id="ref-swc-reproducible-lesson" class="csl-entry">
Zimmerman, Naupaka, Greg Wilson, Raniere Silva, Scott Ritchie, François
Michonneau, Jeffrey Oliver, Harriet Dashnow, et al. 2019. <span>“<span
class="nocase">swcarpentry/r-novice-gapminder: Software Carpentry: R for
Reproducible Scientific Analysis, June 2019</span>.”</span> Zenodo. <a
href="https://doi.org/10.5281/zenodo.3265164">https://doi.org/10.5281/zenodo.3265164</a>.
</div>
</div>
</div>
</div>
</div>

<hr>
<p>Introduction to Computing in R with NEON</p>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
