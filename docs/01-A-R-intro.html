<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Jes &amp; Tad" />


<title>Introduction to R and RStudio</title>

<script src="site_libs/header-attrs-2.19/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>







<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="00-computer-setup.html">Computer Setup</a>
</li>
<li>
  <a href="NEON-data-intro.html">NEON Data</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Modules
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="01-A-R-intro.html">Intro to R</a>
    </li>
    <li>
      <a href="01-B-Rmarkdown-intro.html">R markdown</a>
    </li>
    <li>
      <a href="01-C-R-workshop.html">R workshop</a>
    </li>
    <li>
      <a href="02-A-tidyr.html">tidyr</a>
    </li>
    <li>
      <a href="02-B-git-intro.html">Intro to git</a>
    </li>
  </ul>
</li>
<li>
  <a href="exercises-guide.html">Exercises</a>
</li>
<li>
  <a href="download-student-RStudio-project.html">RStudio Workbook</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Introduction to R and RStudio</h1>
<h4 class="author">Jes &amp; Tad</h4>

</div>


<div id="key-points" class="section level3">
<h3>Key Points</h3>
<ul>
<li>R is a widely-used program for statistical computing.</li>
<li>RStudio is a program that allows users to easily document and run
reproducible analyses with R.</li>
<li>Analyses are saved as text files (e.g. “code”) that can be re-run
and edited as a reproducible record of the research process.</li>
<li>Well-organized research projects have clear locations for saving
code, data, and analysis output (figures, tables, written
documents).</li>
<li>Organizing an analysis as an RStudio project makes it easy to
collaborate on research because the directory structure is
self-contained, facilitating file transfer and version control.</li>
</ul>
</div>
<div id="how-we-will-use-r" class="section level3">
<h3>How we will use R</h3>
<p>R is a popular free and open program for statistical computing (<a
href="https://www.r-project.org/about.html"
class="uri">https://www.r-project.org/about.html</a>). R can be run from
the command line or from a graphical user interface that is
automatically installed when you install R (if you open the R program
installed on your computer, this is what will open up). We will be using
a program called RStudio (see <a href="https://www.rstudio.com/about/"
class="uri">https://www.rstudio.com/about/</a>) to interface with the R
program. RStudio is what is known as an <em>integrated development
environment</em> that makes it easier for R users to write and execute
code and organize research projects. Some of the features that we can
take advantage of are:</p>
<ul>
<li>Text highlighting that makes it easier to spot typos and see the
structure of code.</li>
<li>Easy rendering of Rmarkdown formatting to html documents for our
course website.</li>
<li>Project management that automatically defines your working directory
and makes projects transferable across computers.</li>
<li>Integrated version control with Git that make it (mostly)
unnecessary to use the command line.</li>
</ul>
<p>Today we will focus on setting up an RStudio project for the research
project you will complete during this class and in the process,
introduce you to how RStudio is set up and some basics of using and
writing R code.</p>
</div>
<div id="setting-up-your-research-project" class="section level3">
<h3>Setting up your research project</h3>
<p>Open RStudio and click File &gt; New Project. Make this project in a
new directory and select “Empty Project”. You will be prompted to type a
name for the project and choose a directory on your computer where you
want to save it. The new project can be saved anywhere on your computer
that makes sense and you should choose an informative project name
<strong>with no spaces</strong>. If you think that you might want to
track changes to this project using version control or save the code to
GitHub, be sure to check the “Create a git repository” box. We will have
a <a href="02-B-git-intro.html">lesson on Git</a> on Wednesday, October
4th.</p>
<p>You will now have three windows displayed in RStudio:</p>
<ul>
<li><strong>Console</strong>: This is where the R code that you run will
show up and display results.</li>
<li><strong>Files/Plots/Packages/Help/Viewer</strong>: This should
currently show the <em>working directory</em> and the files in it. It is
also where graphics and help pages will show up. (Try clicking the other
tabs!)</li>
<li><strong>Environment/History</strong>: This will show any
<em>objects</em> that you define when running R code and (if you click
the History tab) a record of previous R code that you have run. It
should currently be empty.</li>
</ul>
<p>Let’s make a new <em>R script</em>- a text file where you save R code
that performs an analysis. Click File &gt; New File &gt; R Script. This
will open a new window with a tab for your R script called “Untitled1”.
The first thing you should do when starting an analysis is to make a new
R script and save it with a descriptive name (no spaces!). The best
practice for project organization is to save all code scripts in a
folder named “code”. In the Files window, click “New Folder” and make a
folder named “code”. Then save your new script into this folder. Now you
are ready to start an analysis!</p>
</div>
<div id="how-r-works" class="section level3">
<h3>How R works</h3>
<div id="code-vs.-the-console" class="section level4">
<h4>Code vs. The Console</h4>
<p>R is a fancy calculator that can remember previous calculations and
store them for future use (see the section Objects and Functions). You
can use R by typing commands directing into the console. For example,
try doing some simple arithmetic. Place your cursor in the Console
window in front of the <code>&gt;</code> symbol and type
<code>3 + 5</code>. Then press Enter.</p>
<blockquote>
<p><strong>Exercise:</strong></p>
<p>Convince yourself that R follows the order of operations.</p>
</blockquote>
<p>Note: If you see a <code>+</code> symbol that means that R is waiting
for further input from you before it can finish a calculation. Hit
Escape if you aren’t sure what it is waiting for and want to try
again.</p>
<p>Typing code into the console is inefficient and doesn’t allow you to
easily save your work or edit previous work. Therefore you should always
type R code into an R script and then run the code in the script. The R
script is saved as a text file on your computer that you can open again
later or send to colleagues.</p>
<p>Try typing some arithmetic expressions into the blank R script that
you just made. Note each line corresponds to a new command to be sent to
the R console. What happened in the R console after you typed the lines?
Hopefully nothing.</p>
<p>R code that you type in a script will not be executed unless you tell
RStudio to run it.</p>
<ul>
<li>To run a single line of code in a script place your cursor anywhere
on the line and press Ctrl+Enter or Cmd+Enter or click the green “Run”
arrow at the upper right of the script window.</li>
<li>To run a portion of a line of code, use your cursor to highlight
just the part you want and then press Ctrl+Enter or Cmd+Enter or click
the green “Run” arrow at the upper right of the script window.</li>
<li>To run multiple lines of code use your cursor to highlight all of
the lines you want and then press Ctrl+Enter or Cmd+Enter or click the
green “Run” arrow at the upper right of the script window.</li>
<li>To run all the code in a script click the “Source” button at the
upper right of the script window. Note that the Console displays
<code>source('~/filepath/name-of-script.R')</code>, but doesn’t give any
output. The <code>source()</code> function allows you to run any code
file without opening it in RStudio (which may be useful to you
later).</li>
</ul>
</div>
<div id="documenting-your-code" class="section level4">
<h4>Documenting your code</h4>
<p>The most important part of you code are the <em>comments</em> that
document what the code is supposed to do. This is most useful for
reminding you of what you are trying to accomplish in an analysis as
well as for anyone else who might need to read your code.</p>
<p>Any text in an R script that follows the <code>#</code> is
interpretted as a <em>comment</em>- a piece of descriptive text that
doesn’t cause R to do any calculations.</p>
<p>The best practice is to begin any R script with comments that give
the title, author (with email), date, and short description of what the
code does.</p>
<blockquote>
<p><strong>Exercise</strong></p>
<p>Add a header to your R script describing what will eventually be
contained in it.</p>
</blockquote>
</div>
<div id="editing-r-code" class="section level4">
<h4>Editing R Code</h4>
<p>In this class we will often be working with and modifying existing R
code that others have written. Many scientists learn R by borrowing code
and modifying it to suit their purposes. Therefore it is useful to start
right away learning how to search for answers and troubleshoot.</p>
<p>Download <a
href="https://github.com/FukamiLab/BIO202/blob/master/code/01-A-r-intro-exercise-code.R">this
R script</a> and save it in your code folder in the research project you
created today. You will need to click the ‘Raw’ button and then download
the text file that appears. Be sure to remove the .txt extension that
may have been added when you saved the file to your computer so that the
file ends in .R. Then, open the downloaded script in your current
RStudio session.</p>
<p>This R script makes a new folder called ‘data’ and downloads a csv
file from our course website into this folder. The csv file contains
data on trees sampled by students in the BIO46 winter quarter class in
2017. It then reads the data into R and saves it as an object named
<code>raw_data</code>. The <code>raw_data</code> object is a dataframe,
which is basically a table where rows are observations and columns are
attributes. It is a very useful data structure for performing
statistical analyses. The code then goes on to calculate the mean value
of latitude across all observations in the dataset and count the number
of each species of tree sampled. Run the code so that you can see how it
works.</p>
<blockquote>
<p><strong>Exercise:</strong></p>
<ol style="list-style-type: decimal">
<li>Save the R script you downloaded as a new R script named
“analysis_2017-09-25.R” into the code folder in this project.</li>
<li>Copy a csv file from your computer containing data that you are
interested in working with. If you don’t have a csv file yet, go to the
<a href="http://data.neonscience.org/browse-data">Neon Data Portal</a>
and download precipitation data from the Toolik Lake Core site in
Alaska.</li>
<li>Modify your R script so that it reads the data file into R and
calculates the maximum value in one of the columns.</li>
</ol>
</blockquote>
<p>If you get stuck, use the Help tab in RStudio as well as internet
searches to figure out how to accomplish this task. Ask your classmates
for help too!</p>
<p><strong>Don’t forget to press save periodically!</strong> RStudio
does not automatically save changes to documents.</p>
</div>
</div>

<p>Introduction to Computing in R with NEON</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
