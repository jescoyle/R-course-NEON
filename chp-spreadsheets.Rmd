---
title:  
output:
  html_document:
    code_folding: show
    toc: false
bibliography: references.bib
---


```{r, include = FALSE, purl = FALSE}
# Functions and data
source("setup.R")

# get chapter number based on name
chp_num <- get_chpNum("chp-spreadsheets", type = "fileName")
chp_str <- ifelse(nchar(chp_num) > 1, chp_num, paste0("0", chp_num))

# knitr options
source("knit-options.R")
knitr_fig_path(paste0(chp_str, "-"))

# Silently load in the data for this lesson
gapminder <- read.csv("data/gapminder_data.csv", header = TRUE)

# Silently set seed for random number generation, so we don't have to explain it
set.seed(10)
```

# Chapter `r chp_num`. `r get_chpName(chp_num, type = "nameLong")` {.tabset}

## Overview 

*from:* [@dc-spreadsheet-lesson](https://datacarpentry.org/spreadsheet-ecology-lesson/)

### What we will learn

Brief description of the contents of this lesson. 


- Best practices in data table formatting
  - tidy tables
  - missing data
  - dates
  - text-based and avoids special characters
  - raw data vs. derived data and README files
- Spreadsheet program quality control features
- Data export from spreadsheet programs
- Text-based data tables: delimited formats
  - typical delimiter characters
  - white space characters: space, tab, new line
- Metadata


In this lesson 
`r get_LO(as.numeric(chp_num), LOtable, prefix = TRUE)`

### Motivator

Describe a problem that learners will be able to solve by the end of this lesson.

### Get set up

Describe any data sets or packages that learners need to download or install before proceeding.

```{r results = 'hide'}
# Read in a data file from the data folder included with the student workbook
dat <- read.csv("data/gapminder_data.csv")
```

Make a code block that loads any packages needed for the analysis. It can be helpful to indicate which functions come from which packages.

```{r results = 'hide', warning = FALSE, message = FALSE}

# Load dplyr: filter
library(dplyr)

# Load ggplot2: ggplot
library(ggplot2)

```

## Lesson


```{r}
# This is an R code block that will execute any code inside and show the results.
dat %>%
  filter(country == "United States")

```



```{r usa_pop_fig}
#| echo = FALSE,
#| fig.cap = paste0("Fig. ", chp_num, ".1. Population growth in the United States 1952 - 2007.")

# Note that figure caption numbers are not automatic here.

# Plot year vs. population size for United States
dat %>%
  filter(country == "United States") %>%
  ggplot(aes(x = year, y = pop)) +
  geom_line() +
  labs(x = "Year", y = "Population size")

```


### Section 1


> ***CHALLENGE:*** What will this code do?
>
> ```r
> 1 + 1
> ```
> > ```{r class.source = 'fold-hide', collapse = TRUE}
> > 1 + 1
> > ```

### Section 2

#### Treat data as read only

This is probably the most important goal of setting up a project. Data is
typically time consuming and/or expensive to collect. Working with them
interactively (e.g., in Excel) where they can be modified means you are never
sure of where the data came from, or how it has been modified since collection.
It is therefore a good idea to treat your data as "read-only". This means that if you modify the data and need to work with it, save it as a new data table.

#### Data Cleaning

In many cases your data will be "dirty": it will need significant preprocessing
to get into a format R (or any other programming language) will find useful.
This task is sometimes called "data munging". Storing these scripts in a
separate folder, and creating a second "read-only" data folder to hold the
"cleaned" data sets can prevent confusion between the two sets.

#### Treat generated output as disposable

Anything generated by your scripts should be treated as disposable: it should
all be able to be regenerated from your scripts.

There are lots of different ways to manage this output. Having an output folder
with different sub-directories for each separate analysis makes it easier later.
Since many analyses are exploratory and don't end up being used in the final
project, and some of the analyses get shared between projects. 

## Exercises

After completing these exercises, learners will be able to 
`r get_LO(as.numeric(chp_num), CStable, prefix = TRUE, bullet = "1.")`


Number all exercises using the module number. Include starter code in the /exercises folder if appropriate.

`r chp_num`.1 

`r chp_num`.2 



## Sources and Resources

This lesson was adapted from [@swc-reproducible-lesson](https://swcarpentry.github.io/r-novice-gapminder/) episode 2 and XXXXXXX by Jes Coyle.


### Additional Resources

### Cited References
